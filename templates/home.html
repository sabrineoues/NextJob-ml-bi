{% extends "base.html" %}
{% load static %}

{% block content %}
<main>
    <!-- ğŸ†• SKILLS GAP ANALYZER - HERO SECTION -->
    <section class="hero-section skills-hero">
        <div class="hero-content">
            <h1 class="hero-title">ğŸ¯ Skills Gap Analyzer</h1>
            <p class="hero-subtitle">
                Enter your skills and target job â†’ Get <span class="highlight">perfect matches</span> + 
                <span class="highlight">skills to learn</span> in seconds!
            </p>
            
            <!-- âœ… SKILLS GUARANTEES -->
            <div class="guarantees">
                <div class="guarantee-item">
                    <span class="guarantee-icon">ğŸ¯</span>
                    <div class="guarantee-title">Perfect Matches</div>
                    <div class="guarantee-text">AI finds your ideal jobs instantly</div>
                </div>
                <div class="guarantee-item">
                    <span class="guarantee-icon">ğŸ“š</span>
                    <div class="guarantee-title">Skills Roadmap</div>
                    <div class="guarantee-text">Clear path to learn missing skills</div>
                </div>
                <div class="guarantee-item">
                    <span class="guarantee-icon">âš¡</span>
                    <div class="guarantee-title">Instant Analysis</div>
                    <div class="guarantee-text">Results in under 3 seconds</div>
                </div>
                <div class="guarantee-item">
                    <span class="guarantee-icon">ğŸ’°</span>
                    <div class="guarantee-title">Salary Insights</div>
                    <div class="guarantee-text">Understand your earning potential</div>
                </div>
            </div>

            <!-- SKILLS FORM DIRECT -->
            <div class="skills-form-hero">
                {% if form %}
                <form method="post" class="quick-form">
                    {% csrf_token %}
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.target_job.label_tag }}
                            {{ form.target_job }}
                        </div>
                        <div class="form-group">
                            {{ form.user_skills.label_tag }}
                            {{ form.user_skills }}
                        </div>
                    </div>
                    <button type="submit" class="hero-btn">ğŸ” Analyze Skills Gap</button>
                </form>
                {% endif %}
            </div>

            <!-- QUICK STATS -->
            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">10K+</span>
                    <span class="stat-label">Jobs Indexed</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">250+</span>
                    <span class="stat-label">Skills Tracked</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">95%</span>
                    <span class="stat-label">Match Accuracy</span>
                </div>
            </div>
        </div>
    </section>

    {% if results %}
    <!-- ğŸ†• RESULTS SECTION -->
    <section class="results-section">
        <h2 class="result-header">ğŸ¯ Results for "{{ results.target_job }}"</h2>
        
        <div class="match-score">{{ results.target_score|floatformat:1 }}% Match</div>
        
        <div class="job-stats">
            <div class="stat-item">
                <div class="stat-number">{{ results.matching_skills|length }}</div>
                <div class="stat-label">Your Skills</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">{{ results.missing_skills|length }}</div>
                <div class="stat-label">To Learn</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">{{ results.recommendations|length }}</div>
                <div class="stat-label">Job Matches</div>
            </div>
        </div>

        <div class="recommendations-grid">
            {% for rec in results.recommendations %}
            <div class="job-card">
                <div class="job-title">ğŸ’¼ {{ rec.job }}</div>
                <div class="job-score">{{ rec.score|floatformat:1 }}%</div>
                
                {% if rec.missing_skills %}
                <div class="skills-section">
                    <div class="section-title">ğŸ“š Skills to Learn:</div>
                    <div class="skills-learn">
                        <h4>You match this job but need to learn:</h4>
                        {% for skill in rec.missing_skills %}
                            <span class="skill-tag">{{ skill }}</span>
                        {% endfor %}
                    </div>
                </div>
                {% else %}
                <div class="skills-section perfect-match">
                    <div class="section-title">âœ… Perfect Match!</div>
                    <div class="skills-learn">
                        <h4>You have ALL required skills!</h4>
                    </div>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <!-- OTHER PREDICTION SECTIONS -->
    <section id="knn" class="section">
        <div class="section-content">
            <h2>Job Level Prediction</h2>
            <p>Junior ğŸŸ¢ Mid ğŸŸ¡ Senior ğŸ”´ â†’ Instant ML prediction!</p>
            <a href="/knn/" class="action-btn">Predict Level â†’</a>
        </div>
    </section>

    <section id="xgboost" class="section">
        <div class="section-content">
            <h2>Insurance Prediction</h2>
            <p>Will your job include insurance? XGBoost knows!</p>
            <a href="/xgboost/" class="action-btn">Check Insurance â†’</a>
        </div>
    </section>

    <section id="regression" class="section">
        <div class="section-content">
            <h2>Salary Prediction</h2>
            <p>Know your market value before negotiating! ğŸ’°</p>
            <a href="/regression/" class="action-btn">Predict Salary â†’</a>
        </div>
    </section>
    <!-- ğŸ†• SKILLS GAP ANALYZER SECTION -->
<section id="skills" class="section">
    <div class="section-content">
        <h2>Skills Gap Analyzer</h2>
        <p>Enter your skills â†’ Get <strong>perfect job matches</strong> + <strong>skills to learn</strong> instantly! ğŸ¯</p>
        <a href="/recommandation/" class="action-btn">Analyze Skills â†’</a>
    </div>
</section>

</main>
{% endblock %}
